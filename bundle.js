(()=>{"use strict";const t=t=>{const e=document.querySelector(".project-list"),n=t.getAllProjects();document.querySelectorAll(".project-name").forEach((t=>{t.remove()})),n.forEach((t=>{const n=document.createElement("button");n.classList.add("project-name"),n.textContent=t,e.insertBefore(n,document.querySelector(".add-project"))}))},e=t=>{document.querySelector(".main h3").textContent=t.name,document.querySelectorAll(".task").forEach((t=>{t.remove()})),t.getAllTodos().forEach((t=>{console.log(1);const e=document.querySelector(".main"),n=document.createElement("div");n.classList.add("task");const o=document.createElement("h4");o.textContent=t.title,o.classList.add("title");const c=document.createElement("p");c.textContent=t.description;const r=document.createElement("p");r.textContent=t.dueDate;const s=document.createElement("h4");s.textContent=t.priority;const d=document.createElement("button");d.textContent="edit",d.classList.add("edit");const i=document.createElement("button");i.textContent="X",i.classList.add("remove"),n.append(o,c,r,s,d,i),e.insertBefore(n,document.querySelector("form"))})),document.querySelector("form").classList.add("hidden"),document.querySelector(".table").classList.remove("hidden")};class n{constructor(t){this.name=t,this.list=[]}addTodo(t){this.list.push(t)}getAllTodos(){return this.list}getIndexByTitle(t){let e=-1;return this.list.every(((n,o)=>t!==n.title||(e=o,!1))),e}removeTodoByName(t){let e=-1;this.list.every(((n,o)=>t!==n.title||(e=o,!1))),this.list.splice(e,1)}}class o{constructor(t,e,n,o,c=!1){this.title=t,this.description=e,this.dueDate=n,this.priority=o,this.isFinished=c}}let c=new class{constructor(){this.object={}}addProject(t){this.object[t.name]=t}getProjectByName(t){return this.object[t]}getAllProjects(){return Object.keys(this.object)}},r=new o("Homework","Math, English, Physics","next year","High"),s=new o("Laundry","","Today","Low"),d=new n("Daily");d.addTodo(r),d.addTodo(s),c.addProject(d);const i=document.querySelector(".add-project"),l=()=>{document.querySelectorAll(".remove").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const n=t.target.parentNode.querySelector(".title").textContent,o=document.querySelector(".main h3").textContent;console.log(n),c.getProjectByName(o).removeTodoByName(n),e(c.getProjectByName(o)),l()}))}))};(t=>{const e=document.querySelector(".main");e.innerHTML="";const n=document.createElement("h3"),o=document.createElement("div");o.classList.add("table"),n.textContent=t.name;const c=document.createElement("button");c.textContent="+ Add a task",c.addEventListener("click",(()=>{document.querySelector("form").classList.remove("hidden"),o.classList.add("hidden")})),e.appendChild(n);const r=document.createElement("form");r.classList.add("hidden");const s=document.createElement("label");s.textContent="Title",s.setAttribute("for","title");const d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","title"),d.setAttribute("name","title"),d.required=!0;const i=document.createElement("label");i.textContent="Description",i.setAttribute("for","description");const l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("id","description"),l.setAttribute("name","description");const a=document.createElement("label");a.textContent="Due Date",a.setAttribute("for","date");const m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("id","date"),m.setAttribute("name","date"),m.required=!0;const u=document.createElement("label");u.textContent="Priority",u.setAttribute("for","priority");const p=document.createElement("select");p.setAttribute("name","priority"),p.setAttribute("id","priority"),p.required=!0;const h=document.createElement("option");h.value="";const y=document.createElement("option");y.value="high",y.textContent="High";const E=document.createElement("option");E.value="medium",E.textContent="Medium";const b=document.createElement("option");b.value="low",b.textContent="Low";const x=document.createElement("hr"),C=document.createElement("button");C.classList.add("form-submit"),C.textContent="Submit",p.append(h,y,E,b),r.append(s,d,i,l,a,m,u,p,x,C),e.appendChild(r),o.appendChild(c),e.appendChild(o)})(d),e(d),t(c),l();const a=document.querySelector("form");i.addEventListener("click",(o=>{o.preventDefault();const r=prompt("Name?","");c.addProject(new n(r)),t(c),document.querySelectorAll(".project-name").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();const n=t.target.textContent;e(c.getProjectByName(n))}))}))})),a.addEventListener("submit",(t=>{t.preventDefault();const n=document.querySelectorAll("form input, select"),r=document.querySelector(".main h3");let s=[];n.forEach((t=>{s.push(t.value)})),c.getProjectByName(r.textContent).addTodo(new o(s[0],s[1],s[2],s[3])),console.log(c.getProjectByName(r.textContent).list),e(c.getProjectByName(r.textContent)),a.reset(),l()}))})();